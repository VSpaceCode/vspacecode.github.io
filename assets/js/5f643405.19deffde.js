"use strict";(self.webpackChunkvspacecode_github_io=self.webpackChunkvspacecode_github_io||[]).push([[705],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return u}});var i=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=i.createContext({}),d=function(e){var n=i.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=d(e.components);return i.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},p=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=d(t),u=a,h=p["".concat(s,".").concat(u)]||p[u]||m[u]||o;return t?i.createElement(h,r(r({ref:n},c),{},{components:t})):i.createElement(h,r({ref:n},c))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=p;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var d=2;d<o;d++)r[d]=t[d];return i.createElement.apply(null,r)}return i.createElement.apply(null,t)}p.displayName="MDXCreateElement"},62:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return m}});var i=t(7462),a=t(3366),o=(t(7294),t(3905)),r=["components"],l={id:"usage",title:"Usage",slug:"/whichkey"},s=void 0,d={unversionedId:"whichkey/usage",id:"whichkey/usage",title:"Usage",description:"The Which Key extension can be used by itself or be called by other extensions.",source:"@site/docs/whichkey/usage.md",sourceDirName:"whichkey",slug:"/whichkey",permalink:"/docs/whichkey",editUrl:"https://github.com/VSpaceCode/vspacecode.github.io/edit/master/docs/whichkey/usage.md",tags:[],version:"current",frontMatter:{id:"usage",title:"Usage",slug:"/whichkey"},sidebar:"docs",previous:{title:"Suggested plugins",permalink:"/docs/suggested-plugins"},next:{title:"Extra",permalink:"/docs/whichkey/extra"}},c={},m=[{value:"Standalone",id:"standalone",level:2},{value:"Setup: I am using VSCode Vim",id:"setup-i-am-using-vscode-vim",level:3},{value:"Setup: I am <em>not</em> using VSCode Vim",id:"setup-i-am-not-using-vscode-vim",level:3},{value:"Menu Customization",id:"menu-customization",level:3},{value:"Incrementally",id:"incrementally",level:4},{value:"Add/Replace",id:"addreplace",level:4},{value:"Removal",id:"removal",level:4},{value:"From Scratch",id:"from-scratch",level:4},{value:"With extension",id:"with-extension",level:2},{value:"Read from config",id:"read-from-config",level:3},{value:"Show directly",id:"show-directly",level:3}],p={toc:m};function u(e){var n=e.components,t=(0,a.Z)(e,r);return(0,o.kt)("wrapper",(0,i.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=VSpaceCode.whichkey"},"Which Key extension")," can be used by itself or be called by other extensions."),(0,o.kt)("h2",{id:"standalone"},"Standalone"),(0,o.kt)("p",null,"This extension comes with a default that didn't have any third-party dependencies."),(0,o.kt)("h3",{id:"setup-i-am-using-vscode-vim"},"Setup: I am using VSCode Vim"),(0,o.kt)("p",null,"If you want a better default behavior design for VSCode Vim, checkout ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/VSpaceCode/VSpaceCode"},"VSpaceCode"),"."),(0,o.kt)("p",null,"Add the menu key as follows in ",(0,o.kt)("inlineCode",{parentName:"p"},"settings.json"),". The following example is to let VSCode Vim to\ncapture the ",(0,o.kt)("inlineCode",{parentName:"p"},"space")," key and trigger the action menu in normal mode and visual mode."),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"To access ",(0,o.kt)("inlineCode",{parentName:"p"},"settings.json"),", you can search ",(0,o.kt)("inlineCode",{parentName:"p"},"Setting")," in the command list with ",(0,o.kt)("inlineCode",{parentName:"p"},"Ctl+Shift+P")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"Cmd+Shift+P")," and select ",(0,o.kt)("inlineCode",{parentName:"p"},"Preference: Open Settings (JSON)"),"."))),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If you have existing config for ",(0,o.kt)("inlineCode",{parentName:"p"},"vim.normalModeKeyBindingsNonRecursive")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"vim.visualModeKeyBindingsNonRecursive"),",\nmake sure you are adding to the array instead of replacing them."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsonc"},'"vim.normalModeKeyBindingsNonRecursive": [\n  {\n    "before": ["<space>"],\n    "commands": ["whichkey.show"]\n  }\n],\n"vim.visualModeKeyBindingsNonRecursive": [\n  {\n    "before": ["<space>"],\n    "commands": ["whichkey.show"]\n  }\n]\n')),(0,o.kt)("p",null,"You can also bind a customize menu with Vim directly"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'"vim.visualModeKeyBindingsNonRecursive": [\n  {\n    "before": ["<space>"],\n    "commands": ["whichkey.show"],\n  }\n]\n')),(0,o.kt)("h3",{id:"setup-i-am-not-using-vscode-vim"},"Setup: I am ",(0,o.kt)("em",{parentName:"h3"},"not")," using VSCode Vim"),(0,o.kt)("p",null,"Add the command as follows in ",(0,o.kt)("inlineCode",{parentName:"p"},"keybindings.json"),". The following json is an example to bind ",(0,o.kt)("inlineCode",{parentName:"p"},"alt+space")," to the action menu when a text editor is in focus."),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"To access ",(0,o.kt)("inlineCode",{parentName:"p"},"keybindings.json"),", you can search ",(0,o.kt)("inlineCode",{parentName:"p"},"Keyboard")," in the command list with ",(0,o.kt)("inlineCode",{parentName:"p"},"Ctl+Shift+P")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"Cmd+Shift+P"),"\nand select ",(0,o.kt)("inlineCode",{parentName:"p"},"Preference: Open Keyboard Shortcuts (JSON)"),"."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsonc"},'{\n  "key": "alt+space",\n  "command": "whichkey.show",\n  "when": "editorTextFocus"\n},\n')),(0,o.kt)("h3",{id:"menu-customization"},"Menu Customization"),(0,o.kt)("p",null,"There are two ways to customize the menu: incrementally, and from scratch.\nIncrementally is great for when you only need to modify a few bindings from the default.\nCustomizing from scratch is great for total control and customization."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The default bindings are subject to change before ",(0,o.kt)("inlineCode",{parentName:"p"},"1.0.0"),".\nIf you find something you think should be bound to a particular key by default\nor you want a particular command, please open an issue as a feature request."))),(0,o.kt)("h4",{id:"incrementally"},"Incrementally"),(0,o.kt)("p",null,"Using this option will allow to you surgically update the default bindings (",(0,o.kt)("inlineCode",{parentName:"p"},"whichkey.bindings"),").\nThe extension will override bindings sequentially base on ",(0,o.kt)("inlineCode",{parentName:"p"},"whichkey.bindingOverrides"),"."),(0,o.kt)("h4",{id:"addreplace"},"Add/Replace"),(0,o.kt)("p",null,"The following json will replace ",(0,o.kt)("inlineCode",{parentName:"p"},"<SPC> g s")," in the same position if the binding exists in ",(0,o.kt)("inlineCode",{parentName:"p"},"whichkey.bindings"),",\nand append ",(0,o.kt)("inlineCode",{parentName:"p"},"s")," to menu ",(0,o.kt)("inlineCode",{parentName:"p"},"<SPC> g")," if it doesn't exist. This override will only execute if ",(0,o.kt)("inlineCode",{parentName:"p"},"<SPC> g")," menu exists.\nAn optional ",(0,o.kt)("inlineCode",{parentName:"p"},"position")," key can be used to specify the index of where the item should be inserted/moved to."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsonc"},'{\n  "whichkey.bindingOverrides": [\n    {\n      "keys": "g.s",\n      "name": "Go to line",\n      "type": "command",\n      "command":"workbench.action.gotoLine",\n    }\n  ]\n}\n')),(0,o.kt)("p",null,"The following example will replace/append the whole ",(0,o.kt)("inlineCode",{parentName:"p"},"<SPC> g")," menu with one binding ",(0,o.kt)("inlineCode",{parentName:"p"},"s")," in it."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsonc"},'{\n  "whichkey.bindingOverrides": [\n    {\n      "keys": "g",\n      "name": "Go...",\n      "type": "bindings",\n      "bindings": [\n        {\n          "key": "s",\n          "name": "Go to",\n          "type": "command",\n          "command": "workbench.action.gotoLine",\n        }\n      ]\n    }\n  ]\n}\n')),(0,o.kt)("p",null,"If the key binding's key uses character ",(0,o.kt)("inlineCode",{parentName:"p"},".")," like ",(0,o.kt)("inlineCode",{parentName:"p"},"<SPC> e ."),", you can target that by using an array in the keys like ",(0,o.kt)("inlineCode",{parentName:"p"},'"keys": ["e", "."]'),"."),(0,o.kt)("h4",{id:"removal"},"Removal"),(0,o.kt)("p",null,"Any negative number in ",(0,o.kt)("inlineCode",{parentName:"p"},"position")," denotes a removal operation. In the following example, any item bound to ",(0,o.kt)("inlineCode",{parentName:"p"},"<SPC> g s")," will be removed."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsonc"},'{\n  "whichkey.bindingOverrides": [\n    {\n      "keys": "g.s",\n      "position": -1,\n    }\n  ]\n}\n')),(0,o.kt)("h4",{id:"from-scratch"},"From Scratch"),(0,o.kt)("p",null,"To customize the menu items from scratch, you can override the menu completely by putting your own ",(0,o.kt)("inlineCode",{parentName:"p"},"whichkey.bindings")," into your ",(0,o.kt)("inlineCode",{parentName:"p"},"settings.json"),".\nUsing this option will prevent any update to your own bindings."),(0,o.kt)("p",null,"An example of a ",(0,o.kt)("inlineCode",{parentName:"p"},"settings.json")," file that overrides the space menu is as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsonc"},'{\n  "whichkey.bindings": [\n    {\n      "key": "f",\n      "name": "File...",\n      "type": "bindings",\n      "bindings": [\n        {\n          "key": "f",\n          "name": "Open file",\n          "type": "command",\n          "command": "workbench.action.files.openFileFolder"\n        },\n        {\n          "key": "i",\n          "name": "Indentation...",\n          "type": "bindings",\n          "bindings": [\n            {\n              "key": "i",\n              "name": "Change indentation",\n              "type": "command",\n              "command": "changeEditorIndentation"\n            },\n            {\n              "key": "d",\n              "name": "Detect indentation",\n              "type": "command",\n              "command": "editor.action.detectIndentation"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n')),(0,o.kt)("p",null,"The default value can be found in the ",(0,o.kt)("inlineCode",{parentName:"p"},"contributes.configuration.whichkey.bindings.default")," section of the ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json")," in this repo.\nYou can use the default value as an example to craft your own custom menu."),(0,o.kt)("h2",{id:"with-extension"},"With extension"),(0,o.kt)("p",null,"If you are writing an extension and want to have which key functionality, you can bundle it with the extension pack feature of vscode.\nThere are two modes of operation."),(0,o.kt)("p",null,"To bundle ",(0,o.kt)("inlineCode",{parentName:"p"},"which-key")," to your extension, you can add ",(0,o.kt)("inlineCode",{parentName:"p"},"VSpaceCode.whichkey")," to the ",(0,o.kt)("inlineCode",{parentName:"p"},"extensionDependencies")," of your ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json"),".\nThis will install ",(0,o.kt)("inlineCode",{parentName:"p"},"which-key")," upon installation of your extension and make sure ",(0,o.kt)("inlineCode",{parentName:"p"},"which-key")," is activated before your extension."),(0,o.kt)("h3",{id:"read-from-config"},"Read from config"),(0,o.kt)("p",null,"This mode will let ",(0,o.kt)("inlineCode",{parentName:"p"},"which-key")," mange the reading of the config from the user's ",(0,o.kt)("inlineCode",{parentName:"p"},"settings.json"),".\n",(0,o.kt)("inlineCode",{parentName:"p"},"which-key")," will load the specified config portion and update when the config is updated.\nThis is suitable for a large menu that might take a bit of time to load."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Register to the location of the config"),(0,o.kt)("p",{parentName:"li"},"The following code will tell ",(0,o.kt)("inlineCode",{parentName:"p"},"which-key")," about the bindings living in ",(0,o.kt)("inlineCode",{parentName:"p"},"myExtension.bindings"),",\nwhich have an optional override config in ",(0,o.kt)("inlineCode",{parentName:"p"},"myExtension.bindingOverrides"),", and have a title of ",(0,o.kt)("inlineCode",{parentName:"p"},"My Menu"),".\nNote that overrides and title are optional."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'commands.executeCommand("whichkey.register", {\n  bindings: ["myExtension", "bindings"],\n  overrides: ["myExtension", "bindingOverrides"],\n  title: "My menu"\n});\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Launch the menu"),(0,o.kt)("p",{parentName:"li"},"Once you registered the config location, the menu will be loaded, so the launch of the menu can be as quick as possible.\nThe following code is an example that launches a registered menu."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'commands.executeCommand("whichkey.show", "myExtension.bindings");\n')))),(0,o.kt)("h3",{id:"show-directly"},"Show directly"),(0,o.kt)("p",null,"This is a simpler operating mode.\nIn your extension, you can pass a ",(0,o.kt)("inlineCode",{parentName:"p"},"BindingItem")," array when calling ",(0,o.kt)("inlineCode",{parentName:"p"},"whichkey.show"),".\nHowever, this might not suitable for large bindings because of the load time."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'commands.executeCommand("whichkey.show", [\n  {\n    "key": "f",\n    "name": "File...",\n    "type": "bindings",\n    "bindings": [\n      {\n        "key": "f",\n        "name": "Open file",\n        "type": "command",\n        "command": "workbench.action.files.openFileFolder"\n      },\n      {\n        "key": "i",\n        "name": "Indentation...",\n        "type": "bindings",\n        "bindings": [\n          {\n            "key": "i",\n            "name": "Change indentation",\n            "type": "command",\n            "command": "changeEditorIndentation"\n          },\n          {\n            "key": "d",\n            "name": "Detect indentation",\n            "type": "command",\n            "command": "editor.action.detectIndentation"\n          }\n        ]\n      }\n    ]\n  }\n]);\n')))}u.isMDXComponent=!0}}]);